## # `日期工具`使用教學

[toc]

`日期工具.js` 提供了一組有用的日期時間處理方法，用於處理和操作日期物件、格式化日期、檢查日期範圍以及自定義日期輸出格式。無論是進行日期增減、解析自定義格式、檢查日期有效性還是格式化輸出日期，這個工具都能大幅簡化操作。

適用於處理任何與日期相關的邏輯，例如排程、日曆功能、報告生成和計算時間間隔等。

---

## **初始化與導入方法**
在使用 `日期工具.js` 時，您需要先引入工具類，然後可以直接調用其封裝的功能：

```javascript
import 日期工具 from './日期工具.js';

// 示例：建立一個當前日期的物件
const today = new Date();
```

---

## **功能概覽與使用方式**

以下是該工具中所有主要功能及其詳細使用方法：

---

### **1. 日期加/減操作**

1. **`加上(date, unit, count)`**
   - 將指定日期增加特定數量的單位（例如：年、月、日、時等）。
   - **參數：**
     - `date`：目標日期（`Date` 類型）。
     - `unit`：增量單位（必須是 `year`, `month`, `day`, `hour`, `minute`, `second`, `millisecond` 中之一）。
     - `count`：要增加的數量（正整數或負整數）。
   - **回傳：** 返回新增日期後的 `Date` 物件。
   - **範例：**
```javascript
const today = new Date();
     const nextMonth = 日期工具.加上(today, 'month', 1); // 增加 1 個月
     console.log(nextMonth); // 下一個月的日期
```

2. **`減去(date, unit, count)`**
   - 將特定數量的單位減去。
   - 使用方式與參數與 `加上` 相同，只是會減法處理。
   - **範例：**
```javascript
const today = new Date();
     const previousDay = 日期工具.減去(today, 'day', 1); // 減少 1 天
     console.log(previousDay); // 昨天的日期
```

---

### **2. 日期格式化**

1. **`格式化日期(date, format)`**
   - 格式化日期為自定義格式的字串。
   - **參數：**
     - `date`：目標日期（`Date` 類型）。
     - `format`：格式字串，支持以下格式：
       - `YYYY`：完整年份（例如：2023）。
       - `YY`：年份尾數（例如：23）。
       - `MM`：兩位月份（例如：01）。
       - `DD`：兩位日期（例如：09）。
       - `HH`：兩位小時（24 小時制）。
       - `mm`：兩位分鐘。
       - `ss`：兩位秒。
       - `xxx`：三位毫秒。
       - `DOW` / `dow`：中文星期全名 / 簡寫（例如：`星期一 / 一`）。
   - **回傳：** 格式化後的字串。
   - **範例：**
```javascript
const date = new Date('2023-03-15T12:30:45');
     const formatted = 日期工具.格式化日期(date, 'YYYY-MM-DD HH:mm:ss DOW');
     console.log(formatted); // "2023-03-15 12:30:45 星期三"
```

---

### **3. 日期解析**

1. **`解析(dateString, format)`**
   - 根據指定的格式，將字串解析為 `Date` 物件。
   - **參數：**
     - `dateString`：待解析的日期字串。
     - `format`：字串的日期格式（支持的標記與 `格式化日期` 相同）。
   - **回傳：** 解析後的 `Date` 物件。
   - **範例：**
```javascript
const dateStr = '2023-03-15 12:30:45';
     const parsedDate = 日期工具.解析(dateStr, 'YYYY-MM-DD HH:mm:ss');
     console.log(parsedDate); // Date 對象對應的日期
```

---

### **4. 日期檢查與範圍驗證**

1. **`在範圍內(date, start, end)`**
   - 判斷指定日期是否在開始日期和結束日期範圍內。
   - **參數：**
     - `date`：目標日期。
     - `start`：起始日期。
     - `end`：結束日期。
   - **回傳：** 布林值，`true` 表示位於範圍內，否則為 `false`。
   - **範例：**
```javascript
const date = new Date('2023-03-15');
     const start = new Date('2023-03-10');
     const end = new Date('2023-03-20');
     console.log(日期工具.在範圍內(date, start, end)); // true
```

2. **`是否為有效日期字串(dateString)`**
   - 判斷輸入的字串是否能轉換為合法的日期。
   - **參數：** `dateString`：目標字串。
   - **回傳：** 布林值，`true` 表示合法日期。
   - **範例：**
```javascript
console.log(日期工具.是否為有效日期字串('2023-03-15')); // true
     console.log(日期工具.是否為有效日期字串('InvalidDate')); // false
```

---

### **5. 自訂功能**

1. **`取得中文星期名稱(date, isShort)`**
   - 根據日期返回對應的中文星期名稱。
   - **參數：**
     - `date`：目標日期。
     - `isShort`（可選）：布林值，是否返回簡寫（默認為 `false`）。
   - **回傳：** 中文星期名稱（`星期日` 或 `日`）。
   - **範例：**
```javascript
const today = new Date();
     const weekday = 日期工具.取得中文星期名稱(today);
     console.log(weekday); // "星期三"
```

2. **`取得年份尾數(date)`**
   - 返回年份的最後兩位數字。
   - **範例：**
```javascript
const date = new Date('2023-03-15');
     console.log(日期工具.取得年份尾數(date)); // "23"
```

---

## **注意事項**
- **日期有效性：** 確保傳入的日期為有效的 `Date` 物件或合法的字串，否則方法可能拋出錯誤。
- **單位驗證：** 請使用支持的單位（如 `year`、`month` 等）以避免錯誤。
- **範圍檢查：** 確保 `start` 日期早於 `end`，否則會觸發例外。
